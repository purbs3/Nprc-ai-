import{r,j as e}from"./index-DIzydVhA.js";import{C as c}from"./ChatInterface-B0i08LHa.js";import{g as d}from"./bookingService-sD1vuPFy.js";import{C as m}from"./IconComponents-CQvE_25E.js";import"./geminiService-D3ylRyWO.js";import"./html-D3brqi0s.js";const x=({bookings:t})=>{const n=new Date,l=t.filter(s=>new Date(s.date)>=n).sort((s,a)=>new Date(s.date).getTime()-new Date(a.date).getTime()),o=t.filter(s=>new Date(s.date)<n).sort((s,a)=>new Date(a.date).getTime()-new Date(s.date).getTime()),i=({booking:s})=>e.jsxs("div",{className:"bg-slate-700/50 p-4 rounded-lg flex items-center gap-4",children:[e.jsx("div",{className:"flex-shrink-0 h-12 w-12 rounded-lg bg-cyan-500/20 flex items-center justify-center",children:e.jsx(m,{className:"h-6 w-6 text-cyan-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold",children:s.service}),e.jsxs("p",{className:"text-sm text-slate-300",children:[new Date(s.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",timeZone:"UTC"})," at ",s.time]}),e.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full mt-1 inline-block ${s.status==="Confirmed"?"bg-green-500/20 text-green-300":"bg-yellow-500/20 text-yellow-300"}`,children:s.status})]})]});return e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6 shadow-lg",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"My Appointments"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-cyan-400 mb-3",children:"Upcoming"}),l.length>0?e.jsx("div",{className:"space-y-3",children:l.map(s=>e.jsx(i,{booking:s},s.id))}):e.jsx("p",{className:"text-slate-400 text-sm",children:"You have no upcoming appointments."})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-slate-400 mb-3",children:"Past"}),o.length>0?e.jsx("div",{className:"space-y-3",children:o.slice(0,2).map(s=>e.jsx(i,{booking:s},s.id))}):e.jsx("p",{className:"text-slate-400 text-sm",children:"You have no past appointments."})]})]})]})},w=({user:t})=>{const[n,l]=r.useState([]);return r.useEffect(()=>{(async()=>{const s=(await d()).filter(a=>a.patientName.toLowerCase()===t.username.toLowerCase());l(s)})()},[t.username]),e.jsx("div",{className:"container mx-auto max-w-7xl p-4 md:py-8 h-full",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2 bg-slate-800 border border-slate-700 rounded-xl shadow-2xl shadow-cyan-500/10 flex flex-col min-h-[80vh]",children:e.jsx(c,{userType:"user"})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsx(x,{bookings:n})})]})})};export{w as default};

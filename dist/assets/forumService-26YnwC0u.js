const l="nprc-forum-categories",g="nprc-forum-topics",p="nprc-forum-posts",d=()=>[{id:"1",name:"General Discussion",slug:"general-discussion",description:"Talk about anything related to physiotherapy and rehabilitation."},{id:"2",name:"Sports Injuries",slug:"sports-injuries",description:"Discuss treatment protocols, new research, and case studies on sports-related injuries."},{id:"3",name:"Chronic Pain Management",slug:"chronic-pain",description:"Share strategies, patient experiences, and multidisciplinary approaches to chronic pain."},{id:"4",name:"Case Studies",slug:"case-studies",description:"Present and discuss interesting or challenging patient cases with peers."}],u=()=>[{id:"t1",categoryId:"2",title:"ACL Post-Op Protocol - Week 1-2",slug:"acl-post-op-protocol-week-1-2",authorName:"Dr. Purab Sinha",authorTitle:"Lead Physiotherapist, DPT",createdAt:new Date(Date.now()-864e5).toISOString(),content:"<p>Hi team, let's discuss our updated protocol for the initial phase of ACL rehabilitation. I'm particularly interested in thoughts on early weight-bearing and quad activation exercises. What are your go-to methods?</p>"},{id:"t2",categoryId:"3",title:"Managing Fibromyalgia Flare-ups",slug:"managing-fibromyalgia-flare-ups",authorName:"Dr. Tarique Akhtar",authorTitle:"Senior Physiotherapist, MSc",createdAt:new Date(Date.now()-1728e5).toISOString(),content:"<p>I have a patient experiencing frequent fibromyalgia flare-ups. We've tried pacing and gentle exercise. Looking for other evidence-based strategies to suggest, especially regarding pain education and sleep hygiene. Any recommendations?</p>"}],h=()=>[{id:"p1",topicId:"t1",authorName:"Dr. Tarique Akhtar",authorTitle:"Senior Physiotherapist, MSc",createdAt:new Date(Date.now()-432e5).toISOString(),content:"<p>Good topic. I've had success with immediate, passive knee extension exercises to prevent flexion contracture. Also, using NMES for quad activation in the first 48 hours has shown great results in my practice.</p>"},{id:"p2",topicId:"t1",authorName:"Dr. Emily Carter",authorTitle:"Sports Physio Specialist",createdAt:new Date().toISOString(),content:"<p>Agreed on the NMES. I also introduce partial weight-bearing with crutches as tolerated within the first 2-3 days, focusing on achieving a normal gait pattern from the start. It seems to improve patient confidence significantly.</p>"}],s=async(a,t)=>{await new Promise(e=>setTimeout(e,100));try{const e=localStorage.getItem(a);if(e){const o=JSON.parse(e);if(Array.isArray(o))return o}}catch(e){console.error(`Failed to load ${a} from localStorage:`,e)}return await n(a,t),t},n=async(a,t)=>{await new Promise(e=>setTimeout(e,100));try{localStorage.setItem(a,JSON.stringify(t))}catch(e){console.error(`Failed to save ${a} to localStorage:`,e)}},m=async()=>s(l,d()),r=async()=>s(g,u()),c=async()=>s(p,h()),S=async a=>(await m()).find(t=>t.slug===a),y=async a=>(await r()).filter(t=>t.categoryId===a).sort((t,e)=>new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime()),f=async a=>(await r()).find(t=>t.id===a),w=async a=>(await c()).filter(t=>t.topicId===a).sort((t,e)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()),I=async a=>{const t=await r(),e={...a,id:Date.now().toString(),createdAt:new Date().toISOString(),slug:a.title.toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]+/g,"")};return await n(g,[e,...t]),e},T=async a=>{const t=await c(),e={...a,id:Date.now().toString(),createdAt:new Date().toISOString()};return await n(p,[...t,e]),e},A=async a=>{const t=await y(a),e=t.map(i=>i.id),o=(await c()).filter(i=>e.includes(i.topicId));return{topicCount:t.length,postCount:o.length}},D=async a=>{const t=await w(a),e=t.length>0?t[t.length-1]:null;return{replyCount:t.length,lastPost:e}};export{A as a,S as b,y as c,D as d,I as e,f,m as g,w as h,T as i};
